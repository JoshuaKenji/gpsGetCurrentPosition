<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPS TRACKING</title>
</head>
<body>

    <div id="map">
        <iframe width="700" height="300" id="gmap_canvas" src="https://maps.google.com/maps?q=&t=&z=13&ie=UTF8&iwloc=&output=embed" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe>
    </div>

    <button id="start">Get Location (One Shot)</button>
    <!-- <button id="stop">Stop</button> -->


    <script>
        
        // /*
        const start = document.querySelector("#start");
        // const stop = document.querySelector("#stop");

        start.addEventListener("click", () => {
            navigator.geolocation.getCurrentPosition(
                data => {
                    console.log(data);
                    const {accuracy, latitude, longitude, altitude, heading, speed} = data.coords;
                    map.innerHTML = '<iframe width="700" height="300" src = "https://maps.google.com/maps?q='+latitude+','+longitude+'&hl=es;z=15&amp;output=embed"></iframe>'

                },
                error => console.log(error), {
                    enableHighAccuracy: true
                }
            );
        });
        // */

        /*
        const coordinates = [];

        start.addEventListener("click", () => {
            navigator.geolocation.watchPosition(
                data => {
                    console.log(data);
                    coordinates.push([data.coords.latitude, data.coords.longitude]);
                    // local storage is an api where if it is used often it could get slower (disadvantage)
                    //it allows to store keys and values in STRING, therefore we need to JSON.stringify it first
                    window.localStorage.setItem(
                        "coordinates",
                        JSON.stringify(coordinates)
                    );
                },
                error => console.log(error), {
                    enableHighAccuracy: true
                }
            );
        });
        */


        
    </script>

</body>
</html>